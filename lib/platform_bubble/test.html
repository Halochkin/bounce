<div>
  <a-a>
    <check-box>
      hello sunshine
    </check-box>
  </a-a>
</div>

<script type="module">
  import {} from "./EventTarget.js";
  class AA extends HTMLElement {
    constructor() {
      super();
      this.attachShadow({mode: "open"});
      this.shadowRoot.innerHTML = "<slot></slot>";
      this.shadowRoot.addEventListener('click', e => console.log('click on a-a'));
    }
  }

  class CheckBox extends HTMLElement {
    constructor() {
      super();
      this.attachShadow({mode: "open"});
      this.shadowRoot.innerHTML = "<slot></slot>:<span></span>";
      this._innerCheck = this.shadowRoot.children[1];
      this.shadowRoot.addEventListener('click', e => this._innerCheck.innerText = this._innerCheck.innerText ? '' : 'X');
    }
  }

  customElements.define('a-a', AA);
  customElements.define('check-box', CheckBox);

  const checkBox = document.querySelector("check-box");
  // checkBox.shadowRoot.children[0].click();
  checkBox.click();

  const preventer = e=> e.preventDefault();

  setTimeout(function (){
    checkBox.click();
  }, 1000);
  setTimeout(function (){
    document.addEventListener('click', preventer);
    checkBox.click();
  }, 2000);
  setTimeout(function (){
    document.removeEventListener('click', preventer);
    checkBox.click();
  }, 3000);
</script>